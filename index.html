<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>–ò–Ω–≥–æ—Å—Å—Ç—Ä–∞—Ö - –∏–ø–æ—Ç–µ—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä(–∫–∞–ª—å–∫—É–ª—è—Ç–æ—Ä) —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è</title>
  <meta name="description" content="–ò–Ω–≥–æ—Å—Å—Ç—Ä–∞—Ö - –∏–ø–æ—Ç–µ—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è - –±—ã—Å—Ç—Ä—ã–π —Ä–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–ø–æ—Ç–µ—á–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è">

  <link rel="stylesheet" href="ingosstrax_style_3d.css?v=8">
  <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@300;400;500;700;900&family=Playfair+Display:wght@400;700&display=swap" rel="stylesheet">

  <!-- –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞ –∏ —É–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –≤–µ—Ä—Å–∏—è–º–∏ -->
  <script>
    (function() {
      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –º–æ–±–∏–ª—å–Ω–æ–µ —É—Å—Ç—Ä–æ–π—Å—Ç–≤–æ
      function isMobile() {
        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ User-Agent
        const mobileRegex = /Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i;
        const isMobileUA = mobileRegex.test(navigator.userAgent);

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ —Ä–∞–∑–º–µ—Ä—É —ç–∫—Ä–∞–Ω–∞ (–ø–ª–∞–Ω—à–µ—Ç—ã —Å—á–∏—Ç–∞–µ–º –¥–µ—Å–∫—Ç–æ–ø–æ–º)
        const isSmallScreen = window.innerWidth <= 768 && window.innerHeight <= 1024;

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ touch-—É—Å—Ç—Ä–æ–π—Å—Ç–≤–∞
        const hasTouch = 'ontouchstart' in window || navigator.maxTouchPoints > 0;

        return (isMobileUA && isSmallScreen) || (hasTouch && isSmallScreen);
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –ø–ª–∞–Ω—à–µ—Ç
      function isTablet() {
        return /iPad|Android(?=.*\bMobile\b)|Tablet/i.test(navigator.userAgent) ||
               (window.innerWidth > 768 && window.innerWidth <= 1024);
      }

      // –ü–æ–ª—É—á–µ–Ω–∏–µ –ø–∞—Ä–∞–º–µ—Ç—Ä–∞ –≤–µ—Ä—Å–∏–∏ –∏–∑ URL
      function getVersionParam() {
        const urlParams = new URLSearchParams(window.location.search);
        return urlParams.get('version');
      }

      // –û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –Ω—É–∂–Ω–æ–π –≤–µ—Ä—Å–∏–∏
      function getTargetVersion() {
        const versionParam = getVersionParam();

        // –ü—Ä–∏–Ω—É–¥–∏—Ç–µ–ª—å–Ω–æ–µ —É–∫–∞–∑–∞–Ω–∏–µ –≤–µ—Ä—Å–∏–∏ —á–µ—Ä–µ–∑ URL –ø–∞—Ä–∞–º–µ—Ç—Ä
        if (versionParam === 'mobile') return 'mobile';
        if (versionParam === 'desktop') return 'desktop';

        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–µ –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ
        if (isMobile()) return 'mobile';
        if (isTablet()) return 'desktop'; // –ü–ª–∞–Ω—à–µ—Ç—ã –∏—Å–ø–æ–ª—å–∑—É—é—Ç –¥–µ—Å–∫—Ç–æ–ø –≤–µ—Ä—Å–∏—é

        return 'desktop'; // –ü–æ —É–º–æ–ª—á–∞–Ω–∏—é –¥–µ—Å–∫—Ç–æ–ø
      }

      const currentVersion = window.location.href.includes('mobile') ? 'mobile' : 'desktop';
      const targetVersion = getTargetVersion();

      // –ü–µ—Ä–µ–Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –µ—Å–ª–∏ –Ω—É–∂–Ω–æ
      if (currentVersion !== targetVersion) {
        const newUrl = targetVersion === 'mobile' ? 'index_mobile.html' : 'index.html';
        window.location.href = newUrl + window.location.search;
      }

      // –î–æ–±–∞–≤–ª–µ–Ω–∏–µ —Å—Å—ã–ª–æ–∫ –¥–ª—è –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏—è –≤–µ—Ä—Å–∏–π (–¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è)
      if (window.location.hostname === 'localhost' || window.location.hostname === '127.0.0.1') {
        setTimeout(() => {
          const versionSwitcher = document.createElement('div');
          versionSwitcher.innerHTML = `
            <div style="position: fixed; top: 10px; right: 10px; z-index: 1000; background: rgba(0,0,0,0.8); color: white; padding: 8px 12px; border-radius: 6px; font-size: 12px;">
              –í–µ—Ä—Å–∏—è: ${currentVersion === 'mobile' ? '–ú–æ–±–∏–ª—å–Ω–∞—è' : '–î–µ—Å–∫—Ç–æ–ø'}
              <br>
              <a href="?version=mobile" style="color: #4ade80; text-decoration: none;">–ú–æ–±.</a> |
              <a href="?version=desktop" style="color: #60a5fa; text-decoration: none;">–î–µ—Å–∫.</a> |
              <a href="version_test.html" style="color: #fbbf24; text-decoration: none;">–¢–µ—Å—Ç</a>
            </div>
          `;
          document.body.appendChild(versionSwitcher);
        }, 1000);
      }
    })();
  </script>

  <!-- Fallback —Å—Ç–∏–ª–∏ –Ω–∞ —Å–ª—É—á–∞–π –ø—Ä–æ–±–ª–µ–º —Å –∑–∞–≥—Ä—É–∑–∫–æ–π CSS -->
  <style>
    /* –ë–∞–∑–æ–≤—ã–µ —Å—Ç–∏–ª–∏ –¥–ª—è –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ–≥–æ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è */
    * { margin: 0; padding: 0; box-sizing: border-box; }
    body {
      font-family: 'Roboto', Arial, sans-serif;
      background: linear-gradient(135deg, #0f1419 0%, #1a2332 100%);
      color: white;
      min-height: 100vh;
    }
    .hero-section {
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      text-align: center;
      padding: 20px;
    }
    .hero-title {
      font-size: 4rem;
      font-weight: 700;
      color: #ffffff;
      margin-bottom: 20px;
      text-shadow: 0 0 20px rgba(59, 130, 246, 0.5);
    }
    .main-content {
      background: white;
      color: #333;
      border-radius: 30px 30px 0 0;
      margin-top: -50px;
      padding: 40px 20px;
    }
    .calculation-card {
      background: white;
      border-radius: 24px;
      padding: 40px;
      box-shadow: 0 10px 30px rgba(0,0,0,0.1);
      margin: 40px auto;
      max-width: 800px;
    }
    .btn-primary {
      background: #3b82f6;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      margin: 10px;
    }
    .btn-secondary {
      background: #64748b;
      color: white;
      border: none;
      padding: 15px 30px;
      border-radius: 12px;
      font-size: 16px;
      cursor: pointer;
      margin: 10px;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Å–ø–∏—Å–∫–∞ –±–∞–Ω–∫–æ–≤ */
    .banks-section {
      margin: 40px 0;
      text-align: center;
    }
    .banks-title {
      font-size: 1.5rem;
      color: #1e293b;
      margin-bottom: 20px;
      font-weight: 600;
    }
    .banks-grid {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
      gap: 12px;
      max-width: 1000px;
      margin: 0 auto;
    }
    .bank-item {
      background: #f8fafc;
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 15px;
      text-align: center;
      font-weight: 500;
      color: #475569;
      transition: all 0.3s ease;
      font-size: 14px;
    }
    .bank-item:hover {
      background: #3b82f6;
      color: white;
      transform: translateY(-2px);
      box-shadow: 0 8px 20px rgba(59, 130, 246, 0.3);
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞ */
    .underwriting-info {
      margin-top: 20px;
      padding: 15px;
      background: linear-gradient(135deg, rgba(59, 130, 246, 0.1), rgba(34, 197, 94, 0.1));
      border-radius: 12px;
      border: 1px solid rgba(59, 130, 246, 0.2);
      text-align: center;
    }

    .underwriting-info p {
      margin: 0;
      color: #475569;
      font-size: 14px;
    }

    .btn-underwriting {
      background: linear-gradient(135deg, #8b5cf6, #a855f7);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 10px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      margin: 5px;
      box-shadow: 0 4px 15px rgba(139, 92, 246, 0.3);
    }

    .btn-underwriting:hover {
      transform: translateY(-2px);
      box-shadow: 0 8px 25px rgba(139, 92, 246, 0.4);
    }

    /* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ */
    .modal-overlay {
      position: fixed;
      top: 0;
      left: 0;
      right: 0;
      bottom: 0;
      background: rgba(0, 0, 0, 0.7);
      display: flex;
      align-items: center;
      justify-content: center;
      z-index: 10000;
      backdrop-filter: blur(5px);
    }

    .modal-content {
      background: white;
      border-radius: 20px;
      box-shadow: 0 25px 50px rgba(0, 0, 0, 0.3);
      max-width: 600px;
      width: 90%;
      max-height: 90vh;
      overflow-y: auto;
      animation: modalFadeIn 0.3s ease-out;
    }

    @keyframes modalFadeIn {
      from { opacity: 0; transform: scale(0.9); }
      to { opacity: 1; transform: scale(1); }
    }

    .modal-header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 25px 30px;
      border-bottom: 1px solid #e2e8f0;
      background: linear-gradient(135deg, #f8fafc, #ffffff);
      border-radius: 20px 20px 0 0;
    }

    .modal-header h3 {
      margin: 0;
      color: #1e293b;
      font-size: 1.5rem;
    }

    .modal-close {
      background: none;
      border: none;
      font-size: 28px;
      cursor: pointer;
      color: #64748b;
      padding: 0;
      width: 30px;
      height: 30px;
      display: flex;
      align-items: center;
      justify-content: center;
      border-radius: 50%;
      transition: all 0.2s ease;
    }

    .modal-close:hover {
      background: #f1f5f9;
      color: #334155;
    }

    .modal-body {
      padding: 30px;
    }

    .underwriting-notice {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 20px;
      background: linear-gradient(135deg, #e0f2fe, #f0f9ff);
      border: 1px solid #0ea5e9;
      border-radius: 12px;
      margin-bottom: 25px;
    }

    .notice-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .notice-text {
      color: #0c4a6e;
      line-height: 1.5;
    }

    .underwriting-form {
      display: flex;
      flex-direction: column;
      gap: 25px;
    }

    .form-section {
      border: 1px solid #e2e8f0;
      border-radius: 12px;
      padding: 20px;
      background: #fafbfc;
    }

    .form-section h4 {
      margin: 0 0 15px 0;
      color: #1e293b;
      font-size: 1.1rem;
      font-weight: 600;
    }

    .form-row {
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 15px;
    }

    .form-group {
      display: flex;
      flex-direction: column;
      gap: 5px;
    }

    .form-group label {
      font-weight: 500;
      color: #475569;
      font-size: 14px;
    }

    .form-group input {
      padding: 12px 15px;
      border: 2px solid #e2e8f0;
      border-radius: 8px;
      font-size: 16px;
      transition: all 0.3s ease;
      background: white;
    }

    .form-group input:focus {
      outline: none;
      border-color: #3b82f6;
      box-shadow: 0 0 0 3px rgba(59, 130, 246, 0.1);
    }

    .form-group input[type="date"] {
      cursor: pointer;
    }

    .checks-grid {
      display: grid;
      gap: 12px;
    }

    .check-item {
      display: flex;
      align-items: center;
      gap: 12px;
      cursor: pointer;
      padding: 12px;
      border-radius: 8px;
      transition: all 0.2s ease;
      background: white;
      border: 1px solid #e2e8f0;
    }

    .check-item:hover {
      background: #f8fafc;
      border-color: #cbd5e1;
    }

    .check-item input[type="checkbox"] {
      display: none;
    }

    .checkmark {
      width: 20px;
      height: 20px;
      border: 2px solid #cbd5e1;
      border-radius: 4px;
      display: flex;
      align-items: center;
      justify-content: center;
      transition: all 0.2s ease;
      background: white;
    }

    .check-item input:checked + .checkmark {
      background: #10b981;
      border-color: #10b981;
    }

    .check-item input:checked + .checkmark::after {
      content: '‚úì';
      color: white;
      font-weight: bold;
      font-size: 12px;
    }

    .check-label {
      color: #475569;
      font-size: 14px;
      line-height: 1.4;
    }

    .modal-footer {
      display: flex;
      gap: 15px;
      justify-content: flex-end;
      padding: 25px 30px;
      border-top: 1px solid #e2e8f0;
      background: #fafbfc;
      border-radius: 0 0 20px 20px;
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫ */
    .tabs-container {
      margin-top: 20px;
    }

    .tab-buttons {
      display: flex;
      border-bottom: 2px solid #e2e8f0;
      margin-bottom: 20px;
      overflow-x: auto;
      scrollbar-width: none;
      -ms-overflow-style: none;
    }

    .tab-buttons::-webkit-scrollbar {
      display: none;
    }

    .tab-btn {
      background: none;
      border: none;
      padding: 12px 16px;
      cursor: pointer;
      border-bottom: 3px solid transparent;
      transition: all 0.3s ease;
      font-weight: 500;
      color: #64748b;
      white-space: nowrap;
      flex-shrink: 0;
    }

    .tab-btn:hover {
      color: #3b82f6;
      background: #f0f9ff;
    }

    .tab-btn.active {
      color: #3b82f6;
      border-bottom-color: #3b82f6;
      background: #eff6ff;
    }

    .tab-content {
      display: none;
      padding: 20px 0;
    }

    .tab-content.active {
      display: block;
    }

    .tab-description {
      margin-bottom: 20px;
    }

    .tab-description h4 {
      margin: 0 0 8px 0;
      color: #1e293b;
      font-size: 1.2rem;
    }

    .tab-description p {
      margin: 0;
      color: #64748b;
      font-size: 14px;
      line-height: 1.5;
    }

    .tab-actions {
      margin: 20px 0;
      text-align: center;
    }

    .btn-check {
      background: linear-gradient(135deg, #10b981, #059669);
      color: white;
      border: none;
      padding: 12px 24px;
      border-radius: 8px;
      font-size: 14px;
      cursor: pointer;
      transition: all 0.3s ease;
      box-shadow: 0 4px 12px rgba(16, 185, 129, 0.3);
    }

    .btn-check:hover:not(:disabled) {
      transform: translateY(-2px);
      box-shadow: 0 6px 16px rgba(16, 185, 129, 0.4);
    }

    .btn-check:disabled {
      opacity: 0.6;
      cursor: not-allowed;
      transform: none;
    }

    .file-hint {
      margin-top: 8px;
    }

    .file-hint small {
      color: #64748b;
      font-size: 12px;
    }

    .check-results {
      margin-top: 20px;
      min-height: 50px;
    }

    .result-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 16px;
      margin-bottom: 12px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      background: white;
      transition: all 0.3s ease;
    }

    .result-item:hover {
      box-shadow: 0 4px 12px rgba(0, 0, 0, 0.1);
    }

    .result-item.success {
      background: linear-gradient(135deg, #f0fdf4, #ffffff);
      border-color: #22c55e;
    }

    .result-item.warning {
      background: linear-gradient(135deg, #fffbeb, #ffffff);
      border-color: #f59e0b;
    }

    .result-item.error {
      background: linear-gradient(135deg, #fef2f2, #ffffff);
      border-color: #ef4444;
    }

    .result-item.loading {
      background: linear-gradient(135deg, #f0f9ff, #ffffff);
      border-color: #3b82f6;
    }

    .result-icon {
      font-size: 20px;
      flex-shrink: 0;
      margin-top: 2px;
    }

    .result-content {
      flex: 1;
    }

    .result-content strong {
      display: block;
      font-size: 1rem;
      margin-bottom: 6px;
    }

    .result-content p {
      margin: 4px 0;
      font-size: 14px;
      line-height: 1.4;
    }

    .result-content .risk-level {
      display: inline-block;
      padding: 4px 8px;
      border-radius: 6px;
      font-size: 12px;
      font-weight: 600;
      margin-top: 8px;
    }

    .result-content .risk-low {
      background: #dcfce7;
      color: #166534;
    }

    .result-content .risk-medium {
      background: #fef3c7;
      color: #92400e;
    }

    .result-content .risk-high {
      background: #fee2e2;
      color: #991b1b;
    }

    /* –ú–æ–±–∏–ª—å–Ω–∞—è –∞–¥–∞–ø—Ç–∞—Ü–∏—è */
    @media (max-width: 768px) {
      .modal-content {
        width: 95%;
        margin: 20px;
      }

      .tab-buttons {
        gap: 0;
      }

      .tab-btn {
        padding: 10px 12px;
        font-size: 14px;
      }

      .form-row {
        grid-template-columns: 1fr;
      }

      .modal-footer {
        flex-direction: column;
      }

      .modal-footer button {
        width: 100%;
      }

      .result-item {
        padding: 12px;
      }
    }

    /* –°—Ç–∏–ª–∏ –¥–ª—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞ */
    .underwriting-results {
      margin-top: 20px;
    }

    .underwriting-results h3 {
      color: #1e293b;
      margin-bottom: 20px;
      font-size: 1.5rem;
    }

    .result-item {
      display: flex;
      align-items: flex-start;
      gap: 15px;
      padding: 20px;
      margin-bottom: 15px;
      border-radius: 12px;
      border: 1px solid #e2e8f0;
      background: white;
    }

    .result-item.success {
      background: linear-gradient(135deg, #f0fdf4, #ffffff);
      border-color: #22c55e;
    }

    .result-item.warning {
      background: linear-gradient(135deg, #fffbeb, #ffffff);
      border-color: #f59e0b;
    }

    .result-item.error {
      background: linear-gradient(135deg, #fef2f2, #ffffff);
      border-color: #ef4444;
    }

    .result-icon {
      font-size: 24px;
      flex-shrink: 0;
    }

    .result-content strong {
      display: block;
      color: #1e293b;
      margin-bottom: 8px;
      font-size: 1.1rem;
    }

    .result-content p {
      margin: 5px 0;
      color: #475569;
      line-height: 1.5;
    }

    .result-content em {
      color: #64748b;
      font-style: italic;
    }

    .underwriting-disclaimer {
      margin-top: 30px;
      padding: 20px;
      background: linear-gradient(135deg, #fef3c7, #ffffff);
      border: 1px solid #f59e0b;
      border-radius: 12px;
      text-align: center;
    }

    .underwriting-disclaimer p {
      margin: 0;
      color: #92400e;
      font-size: 14px;
      line-height: 1.5;
    }
  </style>

  <!-- –ü–æ–¥–∫–ª—é—á–∞–µ–º –¥–∞–Ω–Ω—ã–µ -->
  <script defer src="config_banks.js?v=7"></script>
  <script defer src="tariffs_life.js?v=7"></script>
  <script defer src="tariffs_property.js?v=7"></script>
  <script defer src="tariffs_ifl.js?v=7"></script>

  <!-- –õ–æ–≥–∏–∫–∞ -->
  <script defer src="parser.js?v=7"></script>
  <script defer src="calculator_v2.js?v=7"></script>
  <script src="openai.js?v=7"></script>
</head>

<body>
  <!-- –®–∞–ø–∫–∞ -->
  <header class="hero-section">
    <div class="hero-overlay"></div>
    <div class="hero-content">
      <div class="hero-logo">
        <div class="logo-icon">üèõÔ∏è</div>
        <h1 class="hero-title">–ò–ù–ì–û–°–°–¢–†–ê–•</h1>
        <div class="hero-subtitle">–ú–Ω–æ–≥–æ—Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø—Ä–æ–¥—É–∫—Ç</div>
      </div>
      <div class="hero-description">
        <p>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç–æ–∏–º–æ—Å—Ç–∏ –∏–ø–æ—Ç–µ—á–Ω–æ–≥–æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è</p>
        <p class="hero-accent">–¢–æ—á–Ω—ã–π —Ä–∞—Å—á–µ—Ç ‚Ä¢ –ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–µ–∑—É–ª—å—Ç–∞—Ç ‚Ä¢ –ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –ø–æ–¥—Ö–æ–¥</p>
      </div>
      <div class="hero-stats">
        <div class="stat-item">
          <div class="stat-number">19</div>
          <div class="stat-label">–ë–∞–Ω–∫–æ–≤</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">100%</div>
          <div class="stat-label">–¢–æ—á–Ω–æ—Å—Ç—å</div>
        </div>
        <div class="stat-item">
          <div class="stat-number">24/7</div>
          <div class="stat-label">–î–æ—Å—Ç—É–ø–Ω–æ—Å—Ç—å</div>
        </div>
      </div>
    </div>
    <div class="hero-decoration">
      <div class="decoration-element"></div>
      <div class="decoration-element"></div>
      <div class="decoration-element"></div>
    </div>
  </header>

  <!-- –û—Å–Ω–æ–≤–Ω–æ–π –∫–æ–Ω—Ç–µ–Ω—Ç -->
  <main class="main-content">
    <div class="container">

      <!-- –†–∞–∑–¥–µ–ª —Ä–∞—Å—á–µ—Ç–∞ -->
      <section class="calculation-section">
        <div class="calculation-wrapper">
          <div class="calculation-header">
            <h2 class="section-title">üíé –†–∞—Å—á–µ—Ç —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è</h2>
            <p class="section-subtitle">–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞ –¥–ª—è –º–≥–Ω–æ–≤–µ–Ω–Ω–æ–≥–æ —Ä–∞—Å—á–µ—Ç–∞ —Å—Ç–æ–∏–º–æ—Å—Ç–∏ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è</p>
          </div>


          <div class="calculation-card">
            <div class="card-header">
              <div class="card-icon">üìä</div>
              <h3>–ö–∞–ª—å–∫—É–ª—è—Ç–æ—Ä —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è</h3>
            </div>

            <!-- –ü–æ–ª–µ –≤–≤–æ–¥–∞ -->
            <div class="input-group">
              <label for="client-input" class="input-label">–î–∞–Ω–Ω—ã–µ –∫–ª–∏–µ–Ω—Ç–∞</label>
              <div class="input-wrapper">
                <textarea
                  id="client-input"
                  placeholder="–ü—Ä–∏–º–µ—Ä: –í–¢–ë –æ—Å—Ç 3000000 –º—É–∂ 15.08.1985 –¥–æ–º –∫–∏—Ä–ø–∏—á"
                  rows="3"
                  maxlength="1000"
                ></textarea>
                <div class="input-decoration"></div>
              </div>
              <div class="input-help">
                <span class="help-icon">üí°</span>
                –£–∫–∞–∂–∏—Ç–µ: –±–∞–Ω–∫, –û–°–ó, –¥–∞–Ω–Ω—ã–µ –∑–∞–µ–º—â–∏–∫–∞, —Ç–∏–ø –æ–±—ä–µ–∫—Ç–∞
              </div>
            </div>

            <!-- –ö–Ω–æ–ø–∫–∏ -->
            <div class="button-group">
              <button id="calculate-btn" class="btn-primary">
                <span class="btn-icon">‚ö°</span>
                <span>–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</span>
              </button>
              <button id="clear-btn" class="btn-secondary">
                <span class="btn-icon">üóëÔ∏è</span>
                <span>–û—á–∏—Å—Ç–∏—Ç—å</span>
              </button>
              <button id="underwriting-btn" class="btn-underwriting" onclick="openUnderwritingModal()">
                <span class="btn-icon">üîç</span>
                <span>–ê–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥</span>
              </button>
            </div>

            <!-- –û–ø–∏—Å–∞–Ω–∏–µ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞ -->
            <div class="underwriting-info">
              <p>üîç <strong>–ê–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥</strong> - –±–µ—Å–ø–ª–∞—Ç–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤ –¥–ª—è –ø—Ä–∏–Ω—è—Ç–∏—è —Ä–µ—à–µ–Ω–∏—è –æ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–∏</p>
            </div>
          </div>

          <!-- –†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞ -->
          <div id="results-section" class="results-section" style="display: none;">
            <div class="results-card">
              <div class="results-header">
                <div class="results-icon">üí∞</div>
                <h3>–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Ä–∞—Å—á–µ—Ç–∞</h3>
              </div>
              <div id="results-content" class="results-content">
                <!-- –ó–¥–µ—Å—å –±—É–¥—É—Ç –æ—Ç–æ–±—Ä–∞–∂–∞—Ç—å—Å—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã -->
              </div>
              <div class="results-decoration">
                <div class="decoration-line"></div>
                <div class="decoration-dots"></div>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
      <div class="section-divider"></div>

      <!-- –ò–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è –æ –±–∞–Ω–∫–∞—Ö -->
      <section class="banks-section">
        <div class="banks-wrapper">
          <div class="banks-header">
            <h3 class="section-title-mini">üè¶ –ü–æ–¥–¥–µ—Ä–∂–∏–≤–∞–µ–º—ã–µ –±–∞–Ω–∫–∏</h3>
            <p class="section-description">–†–∞–±–æ—Ç–∞–µ–º —Å–æ –≤—Å–µ–º–∏ –≤–µ–¥—É—â–∏–º–∏ –±–∞–Ω–∫–∞–º–∏ –†–æ—Å—Å–∏–∏</p>
          </div>
          <div class="banks-grid">
            <div class="bank-item">–ê–±—Å–æ–ª—é—Ç –ë–∞–Ω–∫</div>
            <div class="bank-item">–ê–∫ –ë–∞—Ä—Å</div>
            <div class="bank-item">–ê–ª—å—Ñ–∞ –ë–∞–Ω–∫</div>
            <div class="bank-item">–ë–∞–Ω–∫ –°–ü–ë</div>
            <div class="bank-item">–í–¢–ë</div>
            <div class="bank-item">–î–æ–º.–†–§</div>
            <div class="bank-item">–ó–µ–Ω–∏—Ç</div>
            <div class="bank-item">–ò–¢–ë / –¢–ö–ë</div>
            <div class="bank-item">–ú–µ—Ç–∞–ª–ª–∏–Ω–≤–µ—Å—Ç</div>
            <div class="bank-item">–ú–ö–ë</div>
            <div class="bank-item">–ú–¢–° –ë–∞–Ω–∫</div>
            <div class="bank-item">–ü–°–ë (–ü—Ä–æ–º—Å–≤—è–∑—å–±–∞–Ω–∫)</div>
            <div class="bank-item">–†–∞–π—Ñ—Ñ–∞–π–∑–µ–Ω–±–∞–Ω–∫</div>
            <div class="bank-item">–†–°–•–ë</div>
            <div class="bank-item">–°–±–µ—Ä–±–∞–Ω–∫</div>
            <div class="bank-item">–¢-–ë–∞–Ω–∫ / –†–æ—Å–±–∞–Ω–∫</div>
            <div class="bank-item">–¢–∏–º–µ—Ä –ë–∞–Ω–∫</div>
            <div class="bank-item">–£–ë–†–ò–†</div>
            <div class="bank-item">–£—Ä–∞–ª—Å–∏–±</div>
            <div class="bank-item">–≠–Ω–µ—Ä–≥–æ–±–∞–Ω–∫</div>
            <div class="bank-item">–Æ–Ω–∏–∫—Ä–µ–¥–∏—Ç –ë–∞–Ω–∫</div>
          </div>
        </div>
      </section>

      <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
      <div class="section-divider"></div>

      <!-- –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞ -->
      <section class="format-section">
        <div class="format-wrapper">
          <div class="format-header">
            <h3 class="section-title-mini">üìã –§–æ—Ä–º–∞—Ç –≤–≤–æ–¥–∞ –¥–∞–Ω–Ω—ã—Ö</h3>
          </div>
          <div class="format-grid">
            <div class="format-item">
              <div class="format-icon">üèõÔ∏è</div>
              <div class="format-content">
                <strong>–ë–∞–Ω–∫</strong>
                <p>–°–±–µ—Ä–±–∞–Ω–∫, –í–¢–ë, –î–æ–º.–†–§ –∏ –¥—Ä.</p>
              </div>
            </div>
            <div class="format-item">
              <div class="format-icon">üí∞</div>
              <div class="format-content">
                <strong>–û–°–ó</strong>
                <p>–û—Å—Ç–∞—Ç–æ–∫ —Å—Å—É–¥–Ω–æ–π –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏</p>
              </div>
            </div>
            <div class="format-item">
              <div class="format-icon">üë§</div>
              <div class="format-content">
                <strong>–ó–∞–µ–º—â–∏–∫</strong>
                <p>–º—É–∂/–∂–µ–Ω DD.MM.YYYY</p>
              </div>
            </div>
            <div class="format-item">
              <div class="format-icon">üè†</div>
              <div class="format-content">
                <strong>–û–±—ä–µ–∫—Ç</strong>
                <p>–∫–≤–∞—Ä—Ç–∏—Ä–∞, –¥–æ–º –∫–∏—Ä–ø–∏—á/–¥–µ—Ä–µ–≤–æ</p>
              </div>
            </div>
          </div>
        </div>
      </section>

      <!-- –†–∞–∑–¥–µ–ª–∏—Ç–µ–ª—å -->
      <div class="section-divider"></div>

      <!-- –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞ -->
      <section class="advantages-section">
        <div class="advantages-wrapper">
          <div class="advantages-header">
            <h3 class="section-title-mini">‚ú® –ü—Ä–µ–∏–º—É—â–µ—Å—Ç–≤–∞</h3>
          </div>
          <div class="advantages-grid">
            <div class="advantage-item">
              <div class="advantage-icon">‚ö°</div>
              <h4>–ú–≥–Ω–æ–≤–µ–Ω–Ω—ã–π —Ä–∞—Å—á–µ—Ç</h4>
              <p>–†–µ–∑—É–ª—å—Ç–∞—Ç –∑–∞ —Å–µ–∫—É–Ω–¥—ã</p>
            </div>
            <div class="advantage-item">
              <div class="advantage-icon">üéØ</div>
              <h4>–í—ã—Å–æ–∫–∞—è —Ç–æ—á–Ω–æ—Å—Ç—å</h4>
              <p>–ü—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–µ —Ç–∞—Ä–∏—Ñ—ã</p>
            </div>
            <div class="advantage-item">
              <div class="advantage-icon">üõ°Ô∏è</div>
              <h4>–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å</h4>
              <p>–ü—Ä–æ–≤–µ—Ä–µ–Ω–Ω—ã–µ –∞–ª–≥–æ—Ä–∏—Ç–º—ã</p>
            </div>
            <div class="advantage-item">
              <div class="advantage-icon">üì±</div>
              <h4>–£–¥–æ–±—Å—Ç–≤–æ</h4>
              <p>–†–∞–±–æ—Ç–∞–µ—Ç –≤–µ–∑–¥–µ</p>
            </div>
          </div>
        </div>
      </section>
    </div>
  </main>

  <!-- –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –ê–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞ -->
  <div id="underwriting-modal" class="modal-overlay" style="display: none;">
    <div class="modal-content">
      <div class="modal-header">
        <h3>üîç –ê–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥ - –û—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤</h3>
        <button class="modal-close" onclick="closeUnderwritingModal()">√ó</button>
      </div>

      <div class="modal-body">
        <div class="underwriting-notice">
          <div class="notice-icon">‚ÑπÔ∏è</div>
          <div class="notice-text">
            <strong>–ë–µ—Å–ø–ª–∞—Ç–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞ —Ä–∏—Å–∫–æ–≤</strong><br>
            –ü–æ–º–æ–≥–∞–µ—Ç –æ—Ü–µ–Ω–∏—Ç—å –≤–µ—Ä–æ—è—Ç–Ω–æ—Å—Ç—å –æ–¥–æ–±—Ä–µ–Ω–∏—è —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è –∂–∏–∑–Ω–∏ –∏ –∏–º—É—â–µ—Å—Ç–≤–∞
          </div>
        </div>

        <!-- –í–∫–ª–∞–¥–∫–∏ -->
        <div class="tabs-container">
          <div class="tab-buttons">
            <button class="tab-btn active" data-tab="wear">üè¢ –ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è</button>
            <button class="tab-btn" data-tab="egrn">üè† –ï–ì–†–ù</button>
            <button class="tab-btn" data-tab="bankruptcy">‚öñÔ∏è –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ</button>
            <button class="tab-btn" data-tab="fssp">üöî –§–°–°–ü</button>
          </div>

          <!-- –°–æ–¥–µ—Ä–∂–∏–º–æ–µ –≤–∫–ª–∞–¥–æ–∫ -->
          <div class="tab-content active" id="wear-content">
            <div class="tab-description">
              <h4>üè¢ –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–Ω–æ—Å–∞ –∑–¥–∞–Ω–∏—è</h4>
              <p>–û–ø—Ä–µ–¥–µ–ª–µ–Ω–∏–µ –ø—Ä–æ—Ü–µ–Ω—Ç–∞ –∏–∑–Ω–æ—Å–∞ –∫–æ–Ω—Å—Ç—Ä—É–∫—Ü–∏–π –∑–¥–∞–Ω–∏—è –∏ –¥–∞—Ç—ã –ø–æ—Å–ª–µ–¥–Ω–µ–π –æ—Ü–µ–Ω–∫–∏</p>
            </div>
            <div class="form-section">
              <div class="form-row">
                <div class="form-group">
                  <label for="wear-city">–ì–æ—Ä–æ–¥:</label>
                  <input type="text" id="wear-city" placeholder="–ú–æ—Å–∫–≤–∞" required>
                </div>
                <div class="form-group">
                  <label for="wear-street">–£–ª–∏—Ü–∞:</label>
                  <input type="text" id="wear-street" placeholder="–õ–µ–Ω–∏–Ω–∞" required>
                </div>
                <div class="form-group">
                  <label for="wear-house">–î–æ–º:</label>
                  <input type="text" id="wear-house" placeholder="15" required>
                </div>
              </div>
            </div>
            <div class="tab-actions">
              <button class="btn-check" onclick="checkBuildingWear()">
                <span class="btn-icon">üèóÔ∏è</span>
                <span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –∏–∑–Ω–æ—Å</span>
              </button>
            </div>
            <div id="wear-results" class="check-results"></div>
          </div>

          <div class="tab-content" id="egrn-content">
            <div class="tab-description">
              <h4>üè† –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ï–ì–†–ù</h4>
              <p>–ê–Ω–∞–ª–∏–∑ –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù –Ω–∞ –Ω–∞–ª–∏—á–∏–µ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–∞–≤, –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–π –∏ —Ä–µ—à–µ–Ω–∏–π –æ–± –∏–∑—ä—è—Ç–∏–∏</p>
            </div>
            <div class="form-section">
              <div class="form-group">
                <label for="egrn-file">–§–∞–π–ª –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù (.xml):</label>
                <input type="file" id="egrn-file" accept=".xml" required>
                <div class="file-hint">
                  <small>–ó–∞–≥—Ä—É–∑–∏—Ç–µ XML —Ñ–∞–π–ª –≤—ã–ø–∏—Å–∫–∏ –∏–∑ –†–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞</small>
                </div>
              </div>
            </div>
            <div class="tab-actions">
              <button class="btn-check" onclick="checkEGRN()">
                <span class="btn-icon">üìã</span>
                <span>–ê–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å –ï–ì–†–ù</span>
              </button>
            </div>
            <div id="egrn-results" class="check-results"></div>
          </div>

          <div class="tab-content" id="bankruptcy-content">
            <div class="tab-description">
              <h4>‚öñÔ∏è –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ</h4>
              <p>–ü–æ–∏—Å–∫ –¥–µ–ª –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ –ø–æ –§–ò–û –≤ –ï–§–†–°–ë (–ï–¥–∏–Ω–æ–º —Ñ–µ–¥–µ—Ä–∞–ª—å–Ω–æ–º —Ä–µ–µ—Å—Ç—Ä–µ —Å–≤–µ–¥–µ–Ω–∏–π –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ)</p>
            </div>
            <div class="form-section">
              <div class="form-group">
                <label for="bankruptcy-fio">–§–ò–û –ø–æ–ª–Ω–æ—Å—Ç—å—é:</label>
                <input type="text" id="bankruptcy-fio" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
              </div>
            </div>
            <div class="tab-actions">
              <button class="btn-check" onclick="checkBankruptcy()">
                <span class="btn-icon">‚öñÔ∏è</span>
                <span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ</span>
              </button>
            </div>
            <div id="bankruptcy-results" class="check-results"></div>
          </div>

          <div class="tab-content" id="fssp-content">
            <div class="tab-description">
              <h4>üöî –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –§–°–°–ü</h4>
              <p>–ü–æ–∏—Å–∫ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤ –∏ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–µ–π –≤ –§–µ–¥–µ—Ä–∞–ª—å–Ω–æ–π —Å–ª—É–∂–±–µ —Å—É–¥–µ–±–Ω—ã—Ö –ø—Ä–∏—Å—Ç–∞–≤–æ–≤</p>
            </div>
            <div class="form-section">
              <div class="form-row">
                <div class="form-group">
                  <label for="fssp-fio">–§–ò–û –ø–æ–ª–Ω–æ—Å—Ç—å—é:</label>
                  <input type="text" id="fssp-fio" placeholder="–ò–≤–∞–Ω–æ–≤ –ò–≤–∞–Ω –ò–≤–∞–Ω–æ–≤–∏—á" required>
                </div>
                <div class="form-group">
                  <label for="fssp-birth">–î–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è:</label>
                  <input type="date" id="fssp-birth" required>
                </div>
              </div>
              <div class="form-group">
                <label for="fssp-region">–°—É–±—ä–µ–∫—Ç –†–§:</label>
                <select id="fssp-region" required>
                  <option value="">–í—ã–±–µ—Ä–∏—Ç–µ —Ä–µ–≥–∏–æ–Ω</option>
                  <option value="77">–≥. –ú–æ—Å–∫–≤–∞</option>
                  <option value="78">–≥. –°–∞–Ω–∫—Ç-–ü–µ—Ç–µ—Ä–±—É—Ä–≥</option>
                  <option value="50">–ú–æ—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="16">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢–∞—Ç–∞—Ä—Å—Ç–∞–Ω</option>
                  <option value="01">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–¥—ã–≥–µ—è</option>
                  <option value="04">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ê–ª—Ç–∞–π</option>
                  <option value="02">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë–∞—à–∫–æ—Ä—Ç–æ—Å—Ç–∞–Ω</option>
                  <option value="03">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ë—É—Ä—è—Ç–∏—è</option>
                  <option value="05">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –î–∞–≥–µ—Å—Ç–∞–Ω</option>
                  <option value="06">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ò–Ω–≥—É—à–µ—Ç–∏—è</option>
                  <option value="07">–ö–∞–±–∞—Ä–¥–∏–Ω–æ-–ë–∞–ª–∫–∞—Ä—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                  <option value="08">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞–ª–º—ã–∫–∏—è</option>
                  <option value="09">–ö–∞—Ä–∞—á–∞–µ–≤–æ-–ß–µ—Ä–∫–µ—Å—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                  <option value="10">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–∞—Ä–µ–ª–∏—è</option>
                  <option value="11">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö–æ–º–∏</option>
                  <option value="12">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–∞—Ä–∏–π –≠–ª</option>
                  <option value="13">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ú–æ—Ä–¥–æ–≤–∏—è</option>
                  <option value="14">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–∞—Ö–∞ (–Ø–∫—É—Ç–∏—è)</option>
                  <option value="15">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –°–µ–≤–µ—Ä–Ω–∞—è –û—Å–µ—Ç–∏—è - –ê–ª–∞–Ω–∏—è</option>
                  <option value="17">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –¢—ã–≤–∞</option>
                  <option value="18">–£–¥–º—É—Ä—Ç—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                  <option value="19">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –•–∞–∫–∞—Å–∏—è</option>
                  <option value="20">–ß–µ—á–µ–Ω—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                  <option value="21">–ß—É–≤–∞—à—Å–∫–∞—è –†–µ—Å–ø—É–±–ª–∏–∫–∞</option>
                  <option value="22">–ê–ª—Ç–∞–π—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="23">–ö—Ä–∞—Å–Ω–æ–¥–∞—Ä—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="24">–ö—Ä–∞—Å–Ω–æ—è—Ä—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="25">–ü—Ä–∏–º–æ—Ä—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="26">–°—Ç–∞–≤—Ä–æ–ø–æ–ª—å—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="27">–•–∞–±–∞—Ä–æ–≤—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="28">–ê–º—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="29">–ê—Ä—Ö–∞–Ω–≥–µ–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="30">–ê—Å—Ç—Ä–∞—Ö–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="31">–ë–µ–ª–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="32">–ë—Ä—è–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="33">–í–ª–∞–¥–∏–º–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="34">–í–æ–ª–≥–æ–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="35">–í–æ–ª–æ–≥–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="36">–í–æ—Ä–æ–Ω–µ–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="37">–ò–≤–∞–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="38">–ò—Ä–∫—É—Ç—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="39">–ö–∞–ª–∏–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="40">–ö–∞–ª—É–∂—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="41">–ö–∞–º—á–∞—Ç—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="42">–ö–µ–º–µ—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="43">–ö–∏—Ä–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="44">–ö–æ—Å—Ç—Ä–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="45">–ö—É—Ä–≥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="46">–ö—É—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="47">–õ–µ–Ω–∏–Ω–≥—Ä–∞–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="48">–õ–∏–ø–µ—Ü–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="49">–ú–∞–≥–∞–¥–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="51">–ú—É—Ä–º–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="52">–ù–∏–∂–µ–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="53">–ù–æ–≤–≥–æ—Ä–æ–¥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="54">–ù–æ–≤–æ—Å–∏–±–∏—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="55">–û–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="56">–û—Ä–µ–Ω–±—É—Ä–≥—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="57">–û—Ä–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="58">–ü–µ–Ω–∑–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="59">–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="60">–ü—Å–∫–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="61">–†–æ—Å—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="62">–†—è–∑–∞–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="63">–°–∞–º–∞—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="64">–°–∞—Ä–∞—Ç–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="65">–°–∞—Ö–∞–ª–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="66">–°–≤–µ—Ä–¥–ª–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="67">–°–º–æ–ª–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="68">–¢–∞–º–±–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="69">–¢–≤–µ—Ä—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="70">–¢–æ–º—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="71">–¢—É–ª—å—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="72">–¢—é–º–µ–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="73">–£–ª—å—è–Ω–æ–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="74">–ß–µ–ª—è–±–∏–Ω—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="75">–ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="76">–Ø—Ä–æ—Å–ª–∞–≤—Å–∫–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="79">–ï–≤—Ä–µ–π—Å–∫–∞—è –∞–≤—Ç–æ–Ω–æ–º–Ω–∞—è –æ–±–ª–∞—Å—Ç—å</option>
                  <option value="80">–ó–∞–±–∞–π–∫–∞–ª—å—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="81">–ü–µ—Ä–º—Å–∫–∏–π –∫—Ä–∞–π</option>
                  <option value="82">–†–µ—Å–ø—É–±–ª–∏–∫–∞ –ö—Ä—ã–º</option>
                  <option value="83">–≥. –°–µ–≤–∞—Å—Ç–æ–ø–æ–ª—å</option>
                  <option value="84">–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</option>
                  <option value="85">–•–∞–Ω—Ç—ã-–ú–∞–Ω—Å–∏–π—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥ - –Æ–≥—Ä–∞</option>
                  <option value="86">–ß—É–∫–æ—Ç—Å–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</option>
                  <option value="87">–Ø–º–∞–ª–æ-–ù–µ–Ω–µ—Ü–∫–∏–π –∞–≤—Ç–æ–Ω–æ–º–Ω—ã–π –æ–∫—Ä—É–≥</option>
                </select>
              </div>
            </div>
            <div class="tab-actions">
              <button class="btn-check" onclick="checkFSSP()">
                <span class="btn-icon">üöî</span>
                <span>–ü—Ä–æ–≤–µ—Ä–∏—Ç—å –§–°–°–ü</span>
              </button>
            </div>
            <div id="fssp-results" class="check-results"></div>
          </div>
        </div>
      </div>

      <div class="modal-footer">
        <button class="btn-secondary" onclick="closeUnderwritingModal()">
          <span>–ó–∞–∫—Ä—ã—Ç—å</span>
        </button>
      </div>
    </div>
  </div>

  <!-- –ü–æ–¥–≤–∞–ª -->
  <footer class="footer">
    <div class="footer-content">
      <div class="footer-logo">
        <div class="footer-icon">üèõÔ∏è</div>
        <span>–ò–Ω–≥–æ—Å—Å—Ç—Ä–∞—Ö</span>
      </div>
      <div class="footer-text">
        <p>&copy; 2025 –ò–Ω–≥–æ—Å—Å—Ç—Ä–∞—Ö - –∏–ø–æ—Ç–µ—á–Ω—ã–π –ø–∞—Ä—Å–µ—Ä —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏—è. –í—Å–µ –ø—Ä–∞–≤–∞ –∑–∞—â–∏—â–µ–Ω—ã.</p>
      </div>
    </div>
  </footer>

  <script>
    // –ò–Ω–∏—Ü–∏–∞–ª–∏–∑–∞—Ü–∏—è –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞
    document.addEventListener('DOMContentLoaded', function() {
      const clientInput = document.getElementById('client-input');
      const calculateBtn = document.getElementById('calculate-btn');
      const clearBtn = document.getElementById('clear-btn');
      const resultsSection = document.getElementById('results-section');
      const resultsContent = document.getElementById('results-content');

      // –°–ø–∏—Å–æ–∫ –±–∞–Ω–∫–æ–≤ —Ç–µ–ø–µ—Ä—å —Å—Ç–∞—Ç–∏—á–µ—Å–∫–∏–π

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ —Ä–∞—Å—á–µ—Ç–∞
      calculateBtn.addEventListener('click', async function() {
        const message = clientInput.value.trim();

        if (!message) {
          showError('–í–≤–µ–¥–∏—Ç–µ –¥–∞–Ω–Ω—ã–µ –¥–ª—è —Ä–∞—Å—á–µ—Ç–∞');
          return;
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
        calculateBtn.disabled = true;
        calculateBtn.innerHTML = '<span class="btn-icon">‚è≥</span><span>–†–∞—Å—Å—á–∏—Ç—ã–≤–∞–µ–º...</span>';

        try {
          const result = await processClientRequest(message);

          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
          resultsContent.innerHTML = result;
          resultsSection.style.display = 'block';

          // –ü—Ä–æ–∫—Ä—É—á–∏–≤–∞–µ–º –∫ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–∞–º
          resultsSection.scrollIntoView({ behavior: 'smooth' });

        } catch (error) {
          console.error('–û—à–∏–±–∫–∞:', error);
          showError('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ —Ä–∞—Å—á–µ—Ç–µ. –ü—Ä–æ–≤–µ—Ä—å—Ç–µ –≤–≤–µ–¥–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ.');
        } finally {
          // –í–æ–∑–≤—Ä–∞—â–∞–µ–º –∫–Ω–æ–ø–∫—É –≤ –∏—Å—Ö–æ–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ
          calculateBtn.disabled = false;
          calculateBtn.innerHTML = '<span class="btn-icon">‚ö°</span><span>–†–∞—Å—Å—á–∏—Ç–∞—Ç—å —Å—Ç–æ–∏–º–æ—Å—Ç—å</span>';
        }
      });

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–Ω–æ–ø–∫–∏ –æ—á–∏—Å—Ç–∫–∏
      clearBtn.addEventListener('click', function() {
        clientInput.value = '';
        resultsSection.style.display = 'none';
        resultsContent.innerHTML = '';
        clientInput.focus();
      });

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ Enter –≤ –ø–æ–ª–µ –≤–≤–æ–¥–∞
      clientInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter' && !e.shiftKey) {
          e.preventDefault();
          calculateBtn.click();
        }
      });

      // –§—É–Ω–∫—Ü–∏—è –ø–æ–∫–∞–∑–∞ –æ—à–∏–±–æ–∫
      function showError(message) {
        resultsContent.innerHTML = `<div class="error-message">
          <div class="error-icon">‚ùå</div>
          <div class="error-text">${message}</div>
        </div>`;
        resultsSection.style.display = 'block';
        resultsSection.scrollIntoView({ behavior: 'smooth' });
      }


      // –§–æ–∫—É—Å –Ω–∞ –ø–æ–ª–µ –≤–≤–æ–¥–∞ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ
      clientInput.focus();

      // –û–±—Ä–∞–±–æ—Ç—á–∏–∫–∏ –¥–ª—è –≤–∫–ª–∞–¥–æ–∫ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.addEventListener('click', function() {
          const tabId = this.getAttribute('data-tab');
          switchTab(tabId);
        });
      });

      // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –≤–Ω–µ –µ–≥–æ
      const modal = document.getElementById('underwriting-modal');
      if (modal) {
        modal.addEventListener('click', function(e) {
          if (e.target === this) {
            closeUnderwritingModal();
          }
        });
      }

      // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø—Ä–∏ –Ω–∞–∂–∞—Ç–∏–∏ Escape
      document.addEventListener('keydown', function(e) {
        if (e.key === 'Escape' && modal && modal.style.display === 'flex') {
          closeUnderwritingModal();
        }
      });

      // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
      function switchTab(tabId) {
        // –°–∫—Ä—ã—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–Ω—Ç—ã
        document.querySelectorAll('.tab-content').forEach(content => {
          content.classList.remove('active');
        });

        // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
        document.querySelectorAll('.tab-btn').forEach(btn => {
          btn.classList.remove('active');
        });

        // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
        document.getElementById(tabId + '-content').classList.add('active');

        // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
        document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');

        // –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
        clearAllResults();
      }


      // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
      function clearAllResults() {
        document.getElementById('wear-results').innerHTML = '';
        document.getElementById('egrn-results').innerHTML = '';
        document.getElementById('bankruptcy-results').innerHTML = '';
        document.getElementById('fssp-results').innerHTML = '';
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
      function showResult(containerId, result) {
        const container = document.getElementById(containerId);

        let riskClass = 'success';
        let riskLevel = 'risk-low';

        if (result.risk === 'medium') {
          riskClass = 'warning';
          riskLevel = 'risk-medium';
        } else if (result.risk === 'high') {
          riskClass = 'error';
          riskLevel = 'risk-high';
        }

        if (result.error) {
          riskClass = 'error';
        }

        const html = `
          <div class="result-item ${riskClass}">
            <div class="result-icon">${result.icon || 'üìä'}</div>
            <div class="result-content">
              <strong>${result.title}</strong>
              <p>${result.message}</p>
              ${result.details ? `<p>${result.details}</p>` : ''}
              <span class="risk-level ${riskLevel}">${result.riskLevel || '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫'}</span>
            </div>
          </div>
        `;

        container.innerHTML = html;
      }

      // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
      function showLoading(containerId, message) {
        const container = document.getElementById(containerId);
        const html = `
          <div class="result-item loading">
            <div class="result-icon">‚è≥</div>
            <div class="result-content">
              <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...</strong>
              <p>${message}</p>
            </div>
          </div>
        `;
        container.innerHTML = html;
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–Ω–æ—Å–∞ –∑–¥–∞–Ω–∏—è
      async function checkBuildingWear() {
        const city = document.getElementById('wear-city').value.trim();
        const street = document.getElementById('wear-street').value.trim();
        const house = document.getElementById('wear-house').value.trim();

        if (!city || !street || !house) {
          showResult('wear-results', {
            icon: '‚ö†Ô∏è',
            title: '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
            message: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∞–¥—Ä–µ—Å–∞',
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
          return;
        }

        showLoading('wear-results', '–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è –Ω–∞ dom.mingkh.ru...');

        try {
          // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –ø–∞—Ä—Å–∏–Ω–≥ dom.mingkh.ru)
          await new Promise(resolve => setTimeout(resolve, 2000));

          // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
          const demoWear = Math.floor(Math.random() * 60) + 10;
          const demoDate = new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toLocaleDateString('ru-RU');

          let risk = 'normal';
          let riskLevel = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
          let message = `–ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è: ${demoWear}% (–¥–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏: ${demoDate})`;

          if (demoWear > 40) {
            risk = 'high';
            riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
            message += '. –ü—Ä–µ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ 40% - –≤–æ–∑–º–æ–∂–µ–Ω –æ—Ç–∫–∞–∑ –≤ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–∏';
          } else if (demoWear > 25) {
            risk = 'medium';
            riskLevel = '–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫';
            message += '. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞';
          } else {
            message += '. –†–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª–µ–Ω';
          }

          showResult('wear-results', {
            icon: 'üè¢',
            title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–Ω–æ—Å–∞',
            message: message,
            risk: risk,
            riskLevel: riskLevel
          });

        } catch (error) {
          showResult('wear-results', {
            icon: '‚ùå',
            title: '–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏',
            message: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–± –∏–∑–Ω–æ—Å–µ –∑–¥–∞–Ω–∏—è',
            details: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞',
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
        }
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ï–ì–†–ù —Ñ–∞–π–ª–∞
      async function checkEGRN() {
        const fileInput = document.getElementById('egrn-file');
        const file = fileInput.files[0];

        if (!file) {
          showResult('egrn-results', {
            icon: '‚ö†Ô∏è',
            title: '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω',
            message: '–í—ã–±–µ—Ä–∏—Ç–µ XML —Ñ–∞–π–ª –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù',
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
          return;
        }

        showLoading('egrn-results', '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–∞–π–ª –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù...');

        try {
          const result = await analyzeEGRNFile(file);
          showResult('egrn-results', result);
        } catch (error) {
          showResult('egrn-results', {
            icon: '‚ùå',
            title: '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–∞',
            message: '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∞–π–ª –ï–ì–†–ù',
            details: error.message,
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
        }
      }

      // –ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–∞ –ï–ì–†–ù
      function analyzeEGRNFile(file) {
        return new Promise((resolve, reject) => {
          const reader = new FileReader();

          reader.onload = function(e) {
            try {
              const xmlText = e.target.result;

              // –ü–∞—Ä—Å–∏–º XML
              const parser = new DOMParser();
              const xmlDoc = parser.parseFromString(xmlText, 'text/xml');

              // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
              const parseError = xmlDoc.querySelector('parsererror');
              if (parseError) {
                throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç XML —Ñ–∞–π–ª–∞');
              }

              // –ò—â–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è
              const restrictions = xmlDoc.querySelectorAll('Restriction, restriction');
              const encumbrances = xmlDoc.querySelectorAll('Encumbrance, encumbrance');
              const seizures = xmlDoc.querySelectorAll('*[contains(text(), "–∏–∑—ä—è—Ç–∏–µ")], *[contains(text(), "seizure")]');

              let issues = [];
              let risk = 'normal';
              let riskLevel = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
              let message = '–§–∞–π–ª –ï–ì–†–ù —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω';

              if (restrictions.length > 0) {
                issues.push(`–ù–∞–π–¥–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–∞–≤: ${restrictions.length}`);
                risk = 'high';
                riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
              }

              if (encumbrances.length > 0) {
                issues.push(`–ù–∞–π–¥–µ–Ω—ã –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è: ${encumbrances.length}`);
                risk = 'high';
                riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
              }

              if (seizures.length > 0) {
                issues.push('–ï—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ–± –∏–∑—ä—è—Ç–∏–∏ –æ–±—ä–µ–∫—Ç–∞');
                risk = 'high';
                riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
              }

              if (issues.length === 0) {
                message += '. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.';
              } else {
                message += '. –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã: ' + issues.join(', ') + '.';
              }

              resolve({
                icon: 'üìã',
                title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ –ï–ì–†–ù',
                message: message,
                risk: risk,
                riskLevel: riskLevel
              });

            } catch (error) {
              reject(error);
            }
          };

          reader.onerror = () => reject(new Error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞'));
          reader.readAsText(file);
        });
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞
      async function checkBankruptcy() {
        const fio = document.getElementById('bankruptcy-fio').value.trim();

        if (!fio) {
          showResult('bankruptcy-results', {
            icon: '‚ö†Ô∏è',
            title: '–§–ò–û –Ω–µ —É–∫–∞–∑–∞–Ω–æ',
            message: '–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –§–ò–û –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏',
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
          return;
        }

        showLoading('bankruptcy-results', '–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –ï–§–†–°–ë...');

        try {
          // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –∑–∞–ø—Ä–æ—Å –∫ bankrot.fedresurs.ru)
          await new Promise(resolve => setTimeout(resolve, 2500));

          // –î–µ–º–æ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
          const hasBankruptcy = Math.random() > 0.8; // 20% —à–∞–Ω—Å –Ω–∞–π—Ç–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ

          if (hasBankruptcy) {
            showResult('bankruptcy-results', {
              icon: '‚öñÔ∏è',
              title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
              message: '–ù–∞–π–¥–µ–Ω–æ –¥–µ–ª–æ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.',
              details: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—É',
              risk: 'high',
              riskLevel: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫'
            });
          } else {
            showResult('bankruptcy-results', {
              icon: '‚úÖ',
              title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
              message: '–î–µ–ª–∞ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã',
              risk: 'normal',
              riskLevel: '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫'
            });
          }

        } catch (error) {
          showResult('bankruptcy-results', {
            icon: '‚ùå',
            title: '–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏',
            message: '–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
            details: error.message,
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
        }
      }

      // –ü—Ä–æ–≤–µ—Ä–∫–∞ –§–°–°–ü
      async function checkFSSP() {
        const fio = document.getElementById('fssp-fio').value.trim();
        const birthDate = document.getElementById('fssp-birth').value;
        const region = document.getElementById('fssp-region').value;

        if (!fio || !birthDate || !region) {
          showResult('fssp-results', {
            icon: '‚ö†Ô∏è',
            title: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö',
            message: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è: –§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ —Ä–µ–≥–∏–æ–Ω',
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
          return;
        }

        showLoading('fssp-results', '–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –§–°–°–ü...');

        try {
          // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –ø–∞—Ä—Å–∏–Ω–≥ fssp.gov.ru)
          await new Promise(resolve => setTimeout(resolve, 3000));

          // –î–µ–º–æ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
          const hasDebts = Math.random() > 0.7; // 30% —à–∞–Ω—Å –Ω–∞–π—Ç–∏ –¥–æ–ª–≥–∏
          const debtAmount = hasDebts ? Math.floor(Math.random() * 500000) + 10000 : 0;

          if (hasDebts) {
            showResult('fssp-results', {
              icon: 'üöî',
              title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –§–°–°–ü',
              message: `–ù–∞–π–¥–µ–Ω—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω–∞ —Å—É–º–º—É ${debtAmount.toLocaleString('ru-RU')} ‚ÇΩ`,
              details: '–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≥–∞—à–µ–Ω–∏–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ–º',
              risk: 'high',
              riskLevel: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫'
            });
          } else {
            showResult('fssp-results', {
              icon: '‚úÖ',
              title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –§–°–°–ü',
              message: '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã',
              risk: 'normal',
              riskLevel: '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫'
            });
          }

        } catch (error) {
          showResult('fssp-results', {
            icon: '‚ùå',
            title: '–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏',
            message: '–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –§–°–°–ü',
            details: error.message,
            risk: 'error',
            riskLevel: '–û—à–∏–±–∫–∞'
          });
        }
      }

      // –§—É–Ω–∫—Ü–∏—è –∑–∞–ø—É—Å–∫–∞ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞
      async function runUnderwriting() {
        const formData = {
          fio: document.getElementById('client-fio').value.trim(),
          birthDate: document.getElementById('client-birth').value,
          height: parseInt(document.getElementById('client-height').value) || 0,
          weight: parseInt(document.getElementById('client-weight').value) || 0,
          city: document.getElementById('property-city').value.trim(),
          street: document.getElementById('property-street').value.trim(),
          house: document.getElementById('property-house').value.trim(),

          checkHealth: document.getElementById('check-health').checked,
          checkBuilding: document.getElementById('check-building').checked,
          checkEgrn: document.getElementById('check-egrn').checked,
          checkBankruptcy: document.getElementById('check-bankruptcy').checked,
          checkFssp: document.getElementById('check-fssp').checked
        };

        // –í–∞–ª–∏–¥–∞—Ü–∏—è
        if (!formData.fio && !formData.city) {
          alert('–£–∫–∞–∂–∏—Ç–µ —Ö–æ—Ç—è –±—ã –§–ò–û –∏–ª–∏ –∞–¥—Ä–µ—Å –æ–±—ä–µ–∫—Ç–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏');
          return;
        }

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –∏–Ω–¥–∏–∫–∞—Ç–æ—Ä –∑–∞–≥—Ä—É–∑–∫–∏
        const runBtn = document.getElementById('run-underwriting-btn');
        const originalText = runBtn.innerHTML;
        runBtn.disabled = true;
        runBtn.innerHTML = '<span class="btn-icon">‚è≥</span><span>–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º...</span>';

        try {
          const results = await performUnderwritingChecks(formData);

          // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
          displayUnderwritingResults(results);

        } catch (error) {
          console.error('–û—à–∏–±–∫–∞ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞:', error);
          alert('–ü—Ä–æ–∏–∑–æ—à–ª–∞ –æ—à–∏–±–∫–∞ –ø—Ä–∏ –∞–Ω–∞–ª–∏–∑–µ. –ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ.');
        } finally {
          runBtn.disabled = false;
          runBtn.innerHTML = originalText;
        }
      }

      // –§—É–Ω–∫—Ü–∏—è –≤—ã–ø–æ–ª–Ω–µ–Ω–∏—è –ø—Ä–æ–≤–µ—Ä–æ–∫ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞
      async function performUnderwritingChecks(data) {
        const results = {
          health: null,
          building: null,
          egrn: null,
          bankruptcy: null,
          fssp: null
        };

        // –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞ (–ª–æ–∫–∞–ª—å–Ω–∞—è)
        if (data.checkHealth && data.height > 0 && data.weight > 0) {
          results.health = calculateHealthRisk(data.height, data.weight);
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–Ω–æ—Å–∞ –∑–¥–∞–Ω–∏—è
        if (data.checkBuilding && data.city && data.street && data.house) {
          try {
            results.building = await checkBuildingWear(data.city, data.street, data.house);
          } catch (error) {
            results.building = { error: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è' };
          }
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ï–ì–†–ù (–∑–∞–≥–ª—É—à–∫–∞ - —Ç—Ä–µ–±—É–µ—Ç API)
        if (data.checkEgrn && data.city && data.street && data.house) {
          results.egrn = {
            status: 'warning',
            message: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ï–ì–†–ù —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API –†–æ—Å—Ä–µ–µ—Å—Ç—Ä–∞. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É –¥–ª—è –ø–æ–ª–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–∏ —é—Ä–∏–¥–∏—á–µ—Å–∫–æ–π —á–∏—Å—Ç–æ—Ç—ã –æ–±—ä–µ–∫—Ç–∞.'
          };
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ (–∑–∞–≥–ª—É—à–∫–∞ - —Ç—Ä–µ–±—É–µ—Ç API)
        if (data.checkBankruptcy && data.fio && data.birthDate) {
          results.bankruptcy = {
            status: 'warning',
            message: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å –ï–§–†–°–ë. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—Ç–∞—Ç—É—Å —á–µ—Ä–µ–∑ –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—ã–µ –∏—Å—Ç–æ—á–Ω–∏–∫–∏.'
          };
        }

        // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –§–°–°–ü (–∑–∞–≥–ª—É—à–∫–∞ - —Ç—Ä–µ–±—É–µ—Ç API)
        if (data.checkFssp && data.fio && data.birthDate) {
          results.fssp = {
            status: 'warning',
            message: '–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –§–°–°–ü —Ç—Ä–µ–±—É–µ—Ç –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–∏ —Å API –§–°–°–ü. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –ø—Ä–æ–≤–µ—Ä–∏—Ç—å –Ω–∞–ª–∏—á–∏–µ –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤.'
          };
        }

        return results;
      }

      // –õ–æ–∫–∞–ª—å–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è —Ä–∞—Å—á–µ—Ç–∞ –ò–ú–¢
      function calculateHealthRisk(height, weight) {
        const bmi = weight / ((height / 100) ** 2);

        if (bmi < 18.5) {
          return {
            bmi: bmi.toFixed(1),
            risk: 'low',
            message: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞ —Ç–µ–ª–∞',
            recommendation: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ'
          };
        } else if (bmi < 25) {
          return {
            bmi: bmi.toFixed(1),
            risk: 'normal',
            message: '–ù–æ—Ä–º–∞–ª—å–Ω–∞—è –º–∞—Å—Å–∞ —Ç–µ–ª–∞',
            recommendation: '–†–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª–µ–Ω'
          };
        } else if (bmi < 30) {
          return {
            bmi: bmi.toFixed(1),
            risk: 'medium',
            message: '–ò–∑–±—ã—Ç–æ—á–Ω–∞—è –º–∞—Å—Å–∞ —Ç–µ–ª–∞',
            recommendation: '–í–æ–∑–º–æ–∂–Ω–æ –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞ –∏–ª–∏ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏–µ –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–≥–æ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏—è'
          };
        } else {
          return {
            bmi: bmi.toFixed(1),
            risk: 'high',
            message: '–û–∂–∏—Ä–µ–Ω–∏–µ',
            recommendation: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫. –¢—Ä–µ–±—É–µ—Ç—Å—è –º–µ–¥–∏—Ü–∏–Ω—Å–∫–æ–µ –æ–±—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ –ø–µ—Ä–µ–¥ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ–º'
          };
        }
      }

      // –ó–∞–≥–ª—É—à–∫–∞ –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–Ω–æ—Å–∞ –∑–¥–∞–Ω–∏—è (–¥–µ–º–æ)
      async function checkBuildingWear(city, street, house) {
        // –ò–º–∏—Ç–∞—Ü–∏—è –∑–∞–¥–µ—Ä–∂–∫–∏
        await new Promise(resolve => setTimeout(resolve, 1500));

        // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –ø–∞—Ä—Å–∏–Ω–≥ dom.mingkh.ru)
        const demoWear = Math.floor(Math.random() * 60) + 10;

        if (demoWear > 40) {
          return {
            wearPercent: demoWear,
            status: 'high',
            message: `–ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è ${demoWear}% (–≤—ã—à–µ 40%)`,
            recommendation: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫. –í–æ–∑–º–æ–∂–µ–Ω –æ—Ç–∫–∞–∑ –≤ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–∏ –∏–ª–∏ –∑–Ω–∞—á–∏—Ç–µ–ª—å–Ω–æ–µ –ø–æ–≤—ã—à–µ–Ω–∏–µ —Ç–∞—Ä–∏—Ñ–∞'
          };
        } else {
          return {
            wearPercent: demoWear,
            status: 'normal',
            message: `–ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è ${demoWear}% (–≤ –Ω–æ—Ä–º–µ)`,
            recommendation: '–†–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª–µ–Ω'
          };
        }
      }

      // –§—É–Ω–∫—Ü–∏—è –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞
      function displayUnderwritingResults(results) {
        closeUnderwritingModal();

        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –≤ —Å–µ–∫—Ü–∏–∏ —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
        const resultsSection = document.getElementById('results-section');
        const resultsContent = document.getElementById('results-content');

        let html = '<div class="underwriting-results">';
        html += '<h3>üîç –†–µ–∑—É–ª—å—Ç–∞—Ç—ã –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞</h3>';

        // –ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞
        if (results.health) {
          const riskClass = results.health.risk === 'normal' ? 'success' : results.health.risk === 'low' ? 'warning' : 'error';
          html += `
            <div class="result-item ${riskClass}">
              <div class="result-icon">üìè</div>
              <div class="result-content">
                <strong>–ú–µ–¥–∏—Ü–∏–Ω—Å–∫–∞—è –æ—Ü–µ–Ω–∫–∞</strong>
                <p>–ò–ú–¢: ${results.health.bmi} - ${results.health.message}</p>
                <p><em>${results.health.recommendation}</em></p>
              </div>
            </div>
          `;
        }

        // –ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è
        if (results.building) {
          if (results.building.error) {
            html += `
              <div class="result-item warning">
                <div class="result-icon">üè†</div>
                <div class="result-content">
                  <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –∑–¥–∞–Ω–∏—è</strong>
                  <p>${results.building.error}</p>
                </div>
              </div>
            `;
          } else {
            const riskClass = results.building.status === 'normal' ? 'success' : 'error';
            html += `
              <div class="result-item ${riskClass}">
                <div class="result-icon">üè†</div>
                <div class="result-content">
                  <strong>–ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è</strong>
                  <p>${results.building.message}</p>
                  <p><em>${results.building.recommendation}</em></p>
                </div>
              </div>
            `;
          }
        }

        // –ï–ì–†–ù
        if (results.egrn) {
          html += `
            <div class="result-item warning">
              <div class="result-icon">üìã</div>
              <div class="result-content">
                <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –ï–ì–†–ù</strong>
                <p>${results.egrn.message}</p>
              </div>
            </div>
          `;
        }

        // –ë–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ
        if (results.bankruptcy) {
          html += `
            <div class="result-item warning">
              <div class="result-icon">‚öñÔ∏è</div>
              <div class="result-content">
                <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ</strong>
                <p>${results.bankruptcy.message}</p>
              </div>
            </div>
          `;
        }

        // –§–°–°–ü
        if (results.fssp) {
          html += `
            <div class="result-item warning">
              <div class="result-icon">üöî</div>
              <div class="result-content">
                <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø–æ –§–°–°–ü</strong>
                <p>${results.fssp.message}</p>
              </div>
            </div>
          `;
        }

        html += '<div class="underwriting-disclaimer">';
        html += '<p><strong>‚ö†Ô∏è –í–∞–∂–Ω–æ:</strong> –≠—Ç–æ –ø—Ä–µ–¥–≤–∞—Ä–∏—Ç–µ–ª—å–Ω–∞—è –æ—Ü–µ–Ω–∫–∞ —Ä–∏—Å–∫–æ–≤. –î–ª—è —Ç–æ—á–Ω–æ–π –æ—Ü–µ–Ω–∫–∏ —Ä–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Å—Ç—Ä–∞—Ö–æ–≤–æ–π –∫–æ–º–ø–∞–Ω–∏–∏ –∏–ª–∏ —Å–ø–µ—Ü–∏–∞–ª–∏—Å—Ç—É.</p>';
        html += '</div>';

        html += '</div>';

        resultsContent.innerHTML = html;
        resultsSection.style.display = 'block';
        resultsSection.scrollIntoView({ behavior: 'smooth' });
      }
    });

    // –§—É–Ω–∫—Ü–∏–∏ –∞–Ω–¥–µ—Ä—Ä–∞–π—Ç–∏–Ω–≥–∞ (–≤ –≥–ª–æ–±–∞–ª—å–Ω–æ–π –æ–±–ª–∞—Å—Ç–∏)
    function openUnderwritingModal() {
      document.getElementById('underwriting-modal').style.display = 'flex';
      document.body.style.overflow = 'hidden';
    }

    function closeUnderwritingModal() {
      document.getElementById('underwriting-modal').style.display = 'none';
      document.body.style.overflow = 'auto';
      // –û—á–∏—Å—Ç–∏—Ç—å –≤—Å–µ —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã
      clearAllResults();
    }

    // –ü–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ –≤–∫–ª–∞–¥–æ–∫
    function switchTab(tabId) {
      // –°–∫—Ä—ã—Ç—å –≤—Å–µ –∫–æ–Ω—Ç–µ–Ω—Ç—ã
      document.querySelectorAll('.tab-content').forEach(content => {
        content.classList.remove('active');
      });

      // –£–±—Ä–∞—Ç—å –∞–∫—Ç–∏–≤–Ω—ã–π –∫–ª–∞—Å—Å —Å–æ –≤—Å–µ—Ö –∫–Ω–æ–ø–æ–∫
      document.querySelectorAll('.tab-btn').forEach(btn => {
        btn.classList.remove('active');
      });

      // –ü–æ–∫–∞–∑–∞—Ç—å –≤—ã–±—Ä–∞–Ω–Ω—ã–π –∫–æ–Ω—Ç–µ–Ω—Ç
      document.getElementById(tabId + '-content').classList.add('active');

      // –ê–∫—Ç–∏–≤–∏—Ä–æ–≤–∞—Ç—å –∫–Ω–æ–ø–∫—É
      document.querySelector(`[data-tab="${tabId}"]`).classList.add('active');

      // –û—á–∏—Å—Ç–∏—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç—ã –ø—Ä–µ–¥—ã–¥—É—â–µ–π –ø—Ä–æ–≤–µ—Ä–∫–∏
      clearAllResults();
    }

    // –û—á–∏—Å—Ç–∫–∞ –≤—Å–µ—Ö —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤
    function clearAllResults() {
      document.getElementById('wear-results').innerHTML = '';
      document.getElementById('egrn-results').innerHTML = '';
      document.getElementById('bankruptcy-results').innerHTML = '';
      document.getElementById('fssp-results').innerHTML = '';
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å —Ä–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏
    function showResult(containerId, result) {
      const container = document.getElementById(containerId);

      let riskClass = 'success';
      let riskLevel = 'risk-low';

      if (result.risk === 'medium') {
        riskClass = 'warning';
        riskLevel = 'risk-medium';
      } else if (result.risk === 'high') {
        riskClass = 'error';
        riskLevel = 'risk-high';
      }

      if (result.error) {
        riskClass = 'error';
      }

      const html = `
        <div class="result-item ${riskClass}">
          <div class="result-icon">${result.icon || 'üìä'}</div>
          <div class="result-content">
            <strong>${result.title}</strong>
            <p>${result.message}</p>
            ${result.details ? `<p>${result.details}</p>` : ''}
            <span class="risk-level ${riskLevel}">${result.riskLevel || '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫'}</span>
          </div>
        </div>
      `;

      container.innerHTML = html;
    }

    // –ü–æ–∫–∞–∑–∞—Ç—å —Å–æ—Å—Ç–æ—è–Ω–∏–µ –∑–∞–≥—Ä—É–∑–∫–∏
    function showLoading(containerId, message) {
      const container = document.getElementById(containerId);
      const html = `
        <div class="result-item loading">
          <div class="result-icon">‚è≥</div>
          <div class="result-content">
            <strong>–ü—Ä–æ–≤–µ—Ä–∫–∞ –≤—ã–ø–æ–ª–Ω—è–µ—Ç—Å—è...</strong>
            <p>${message}</p>
          </div>
        </div>
      `;
      container.innerHTML = html;
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –∏–∑–Ω–æ—Å–∞ –∑–¥–∞–Ω–∏—è
    async function checkBuildingWear() {
      const city = document.getElementById('wear-city').value.trim();
      const street = document.getElementById('wear-street').value.trim();
      const house = document.getElementById('wear-house').value.trim();

      if (!city || !street || !house) {
        showResult('wear-results', {
          icon: '‚ö†Ô∏è',
          title: '–û—à–∏–±–∫–∞ –≤–∞–ª–∏–¥–∞—Ü–∏–∏',
          message: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è –∞–¥—Ä–µ—Å–∞',
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
        return;
      }

      showLoading('wear-results', '–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ –∑–¥–∞–Ω–∏—è –Ω–∞ dom.mingkh.ru...');

      try {
        // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –ø–∞—Ä—Å–∏–Ω–≥ dom.mingkh.ru)
        await new Promise(resolve => setTimeout(resolve, 2000));

        // –î–µ–º–æ-–¥–∞–Ω–Ω—ã–µ (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
        const demoWear = Math.floor(Math.random() * 60) + 10;
        const demoDate = new Date(Date.now() - Math.random() * 365 * 24 * 60 * 60 * 1000).toLocaleDateString('ru-RU');

        let risk = 'normal';
        let riskLevel = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
        let message = `–ò–∑–Ω–æ—Å –∑–¥–∞–Ω–∏—è: ${demoWear}% (–¥–∞—Ç–∞ –æ—Ü–µ–Ω–∫–∏: ${demoDate})`;

        if (demoWear > 40) {
          risk = 'high';
          riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
          message += '. –ü—Ä–µ–≤—ã—à–µ–Ω –ø–æ—Ä–æ–≥ 40% - –≤–æ–∑–º–æ–∂–µ–Ω –æ—Ç–∫–∞–∑ –≤ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–∏';
        } else if (demoWear > 25) {
          risk = 'medium';
          riskLevel = '–°—Ä–µ–¥–Ω–∏–π —Ä–∏—Å–∫';
          message += '. –†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞';
        } else {
          message += '. –†–∏—Å–∫ –º–∏–Ω–∏–º–∞–ª–µ–Ω';
        }

        showResult('wear-results', {
          icon: 'üè¢',
          title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –∏–∑–Ω–æ—Å–∞',
          message: message,
          risk: risk,
          riskLevel: riskLevel
        });

      } catch (error) {
        showResult('wear-results', {
          icon: '‚ùå',
          title: '–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏',
          message: '–ù–µ —É–¥–∞–ª–æ—Å—å –ø–æ–ª—É—á–∏—Ç—å –¥–∞–Ω–Ω—ã–µ –æ–± –∏–∑–Ω–æ—Å–µ –∑–¥–∞–Ω–∏—è',
          details: '–ü–æ–ø—Ä–æ–±—É–π—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ –ø—Ä–æ–≤–µ—Ä—å—Ç–µ –∫–æ—Ä—Ä–µ–∫—Ç–Ω–æ—Å—Ç—å –∞–¥—Ä–µ—Å–∞',
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
      }
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –ï–ì–†–ù —Ñ–∞–π–ª–∞
    async function checkEGRN() {
      const fileInput = document.getElementById('egrn-file');
      const file = fileInput.files[0];

      if (!file) {
        showResult('egrn-results', {
          icon: '‚ö†Ô∏è',
          title: '–§–∞–π–ª –Ω–µ –≤—ã–±—Ä–∞–Ω',
          message: '–í—ã–±–µ—Ä–∏—Ç–µ XML —Ñ–∞–π–ª –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù',
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
        return;
      }

      showLoading('egrn-results', '–ê–Ω–∞–ª–∏–∑–∏—Ä—É–µ–º —Ñ–∞–π–ª –≤—ã–ø–∏—Å–∫–∏ –ï–ì–†–ù...');

      try {
        const result = await analyzeEGRNFile(file);
        showResult('egrn-results', result);
      } catch (error) {
        showResult('egrn-results', {
          icon: '‚ùå',
          title: '–û—à–∏–±–∫–∞ –∞–Ω–∞–ª–∏–∑–∞ —Ñ–∞–π–ª–∞',
          message: '–ù–µ —É–¥–∞–ª–æ—Å—å –æ–±—Ä–∞–±–æ—Ç–∞—Ç—å —Ñ–∞–π–ª –ï–ì–†–ù',
          details: error.message,
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
      }
    }

    // –ê–Ω–∞–ª–∏–∑ —Ñ–∞–π–ª–∞ –ï–ì–†–ù
    function analyzeEGRNFile(file) {
      return new Promise((resolve, reject) => {
        const reader = new FileReader();

        reader.onload = function(e) {
          try {
            const xmlText = e.target.result;

            // –ü–∞—Ä—Å–∏–º XML
            const parser = new DOMParser();
            const xmlDoc = parser.parseFromString(xmlText, 'text/xml');

            // –ü—Ä–æ–≤–µ—Ä—è–µ–º –Ω–∞ –æ—à–∏–±–∫–∏ –ø–∞—Ä—Å–∏–Ω–≥–∞
            const parseError = xmlDoc.querySelector('parsererror');
            if (parseError) {
              throw new Error('–ù–µ–∫–æ—Ä—Ä–µ–∫—Ç–Ω—ã–π —Ñ–æ—Ä–º–∞—Ç XML —Ñ–∞–π–ª–∞');
            }

            // –ò—â–µ–º –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏—è –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è
            const restrictions = xmlDoc.querySelectorAll('Restriction, restriction');
            const encumbrances = xmlDoc.querySelectorAll('Encumbrance, encumbrance');
            const seizures = xmlDoc.querySelectorAll('*[contains(text(), "–∏–∑—ä—è—Ç–∏–µ")], *[contains(text(), "seizure")]');

            let issues = [];
            let risk = 'normal';
            let riskLevel = '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫';
            let message = '–§–∞–π–ª –ï–ì–†–ù —É—Å–ø–µ—à–Ω–æ –ø—Ä–æ–∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞–Ω';

            if (restrictions.length > 0) {
              issues.push(`–ù–∞–π–¥–µ–Ω–æ –æ–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –ø—Ä–∞–≤: ${restrictions.length}`);
              risk = 'high';
              riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
            }

            if (encumbrances.length > 0) {
              issues.push(`–ù–∞–π–¥–µ–Ω—ã –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏—è: ${encumbrances.length}`);
              risk = 'high';
              riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
            }

            if (seizures.length > 0) {
              issues.push('–ï—Å—Ç—å —Ä–µ—à–µ–Ω–∏—è –æ–± –∏–∑—ä—è—Ç–∏–∏ –æ–±—ä–µ–∫—Ç–∞');
              risk = 'high';
              riskLevel = '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫';
            }

            if (issues.length === 0) {
              message += '. –û–≥—Ä–∞–Ω–∏—á–µ–Ω–∏–π –∏ –æ–±—Ä–µ–º–µ–Ω–µ–Ω–∏–π –Ω–µ –Ω–∞–π–¥–µ–Ω–æ.';
            } else {
              message += '. –û–±–Ω–∞—Ä—É–∂–µ–Ω—ã –ø—Ä–æ–±–ª–µ–º—ã: ' + issues.join(', ') + '.';
            }

            resolve({
              icon: 'üìã',
              title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –∞–Ω–∞–ª–∏–∑–∞ –ï–ì–†–ù',
              message: message,
              risk: risk,
              riskLevel: riskLevel
            });

          } catch (error) {
            reject(error);
          }
        };

        reader.onerror = () => reject(new Error('–û—à–∏–±–∫–∞ —á—Ç–µ–Ω–∏—è —Ñ–∞–π–ª–∞'));
        reader.readAsText(file);
      });
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞
    async function checkBankruptcy() {
      const fio = document.getElementById('bankruptcy-fio').value.trim();

      if (!fio) {
        showResult('bankruptcy-results', {
          icon: '‚ö†Ô∏è',
          title: '–§–ò–û –Ω–µ —É–∫–∞–∑–∞–Ω–æ',
          message: '–í–≤–µ–¥–∏—Ç–µ –ø–æ–ª–Ω–æ–µ –§–ò–û –¥–ª—è –ø—Ä–æ–≤–µ—Ä–∫–∏',
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
        return;
      }

      showLoading('bankruptcy-results', '–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –ï–§–†–°–ë...');

      try {
        // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –∑–∞–ø—Ä–æ—Å –∫ bankrot.fedresurs.ru)
        await new Promise(resolve => setTimeout(resolve, 2500));

        // –î–µ–º–æ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
        const hasBankruptcy = Math.random() > 0.8; // 20% —à–∞–Ω—Å –Ω–∞–π—Ç–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–æ

        if (hasBankruptcy) {
          showResult('bankruptcy-results', {
            icon: '‚öñÔ∏è',
            title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
            message: '–ù–∞–π–¥–µ–Ω–æ –¥–µ–ª–æ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ. –¢—Ä–µ–±—É–µ—Ç—Å—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞.',
            details: '–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è –æ–±—Ä–∞—Ç–∏—Ç—å—Å—è –∫ —Ñ–∏–Ω–∞–Ω—Å–æ–≤–æ–º—É –∫–æ–Ω—Å—É–ª—å—Ç–∞–Ω—Ç—É',
            risk: 'high',
            riskLevel: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫'
          });
        } else {
          showResult('bankruptcy-results', {
            icon: '‚úÖ',
            title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
            message: '–î–µ–ª–∞ –æ –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–µ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã',
            risk: 'normal',
            riskLevel: '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫'
          });
        }

      } catch (error) {
        showResult('bankruptcy-results', {
          icon: '‚ùå',
          title: '–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏',
          message: '–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –±–∞–Ω–∫—Ä–æ—Ç—Å—Ç–≤–∞',
          details: error.message,
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
      }
    }

    // –ü—Ä–æ–≤–µ—Ä–∫–∞ –§–°–°–ü
    async function checkFSSP() {
      const fio = document.getElementById('fssp-fio').value.trim();
      const birthDate = document.getElementById('fssp-birth').value;
      const region = document.getElementById('fssp-region').value;

      if (!fio || !birthDate || !region) {
        showResult('fssp-results', {
          icon: '‚ö†Ô∏è',
          title: '–ù–µ–¥–æ—Å—Ç–∞—Ç–æ—á–Ω–æ –¥–∞–Ω–Ω—ã—Ö',
          message: '–ó–∞–ø–æ–ª–Ω–∏—Ç–µ –≤—Å–µ –ø–æ–ª—è: –§–ò–û, –¥–∞—Ç–∞ —Ä–æ–∂–¥–µ–Ω–∏—è –∏ —Ä–µ–≥–∏–æ–Ω',
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
        return;
      }

      showLoading('fssp-results', '–ü—Ä–æ–≤–µ—Ä—è–µ–º –¥–∞–Ω–Ω—ã–µ –≤ –§–°–°–ü...');

      try {
        // –ò–º–∏—Ç–∞—Ü–∏—è –ø—Ä–æ–≤–µ—Ä–∫–∏ (–≤ —Ä–µ–∞–ª—å–Ω–æ—Å—Ç–∏ - –ø–∞—Ä—Å–∏–Ω–≥ fssp.gov.ru)
        await new Promise(resolve => setTimeout(resolve, 3000));

        // –î–µ–º–æ-—Ä–µ–∑—É–ª—å—Ç–∞—Ç (–≤ –ø—Ä–æ–¥–∞–∫—à–µ–Ω–µ - —Ä–µ–∞–ª—å–Ω—ã–π –ø–∞—Ä—Å–∏–Ω–≥)
        const hasDebts = Math.random() > 0.7; // 30% —à–∞–Ω—Å –Ω–∞–π—Ç–∏ –¥–æ–ª–≥–∏
        const debtAmount = hasDebts ? Math.floor(Math.random() * 500000) + 10000 : 0;

        if (hasDebts) {
          showResult('fssp-results', {
            icon: 'üöî',
            title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –§–°–°–ü',
            message: `–ù–∞–π–¥–µ–Ω—ã –∏—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω–∞ —Å—É–º–º—É ${debtAmount.toLocaleString('ru-RU')} ‚ÇΩ`,
            details: '–¢—Ä–µ–±—É–µ—Ç—Å—è –ø–æ–≥–∞—à–µ–Ω–∏–µ –∑–∞–¥–æ–ª–∂–µ–Ω–Ω–æ—Å—Ç–∏ –ø–µ—Ä–µ–¥ —Å—Ç—Ä–∞—Ö–æ–≤–∞–Ω–∏–µ–º',
            risk: 'high',
            riskLevel: '–í—ã—Å–æ–∫–∏–π —Ä–∏—Å–∫'
          });
        } else {
          showResult('fssp-results', {
            icon: '‚úÖ',
            title: '–†–µ–∑—É–ª—å—Ç–∞—Ç –ø—Ä–æ–≤–µ—Ä–∫–∏ –§–°–°–ü',
            message: '–ò—Å–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã–µ –ø—Ä–æ–∏–∑–≤–æ–¥—Å—Ç–≤–∞ –Ω–µ –Ω–∞–π–¥–µ–Ω—ã',
            risk: 'normal',
            riskLevel: '–ù–∏–∑–∫–∏–π —Ä–∏—Å–∫'
          });
        }

      } catch (error) {
        showResult('fssp-results', {
          icon: '‚ùå',
          title: '–û—à–∏–±–∫–∞ –ø—Ä–æ–≤–µ—Ä–∫–∏',
          message: '–ù–µ —É–¥–∞–ª–æ—Å—å –≤—ã–ø–æ–ª–Ω–∏—Ç—å –ø—Ä–æ–≤–µ—Ä–∫—É –§–°–°–ü',
          details: error.message,
          risk: 'error',
          riskLevel: '–û—à–∏–±–∫–∞'
        });
      }
    }
  </script>
</body>
</html>
